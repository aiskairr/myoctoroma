# Отладка диалога редактирования

## Проблемы
1. ❌ Кнопка "Сохранить" не работает
2. ❌ Поля Время, Филиал, Мастер пустые при открытии

## Данные из API
```json
{
    "id": "65189275",
    "clientId": 23,
    "status": "scheduled", 
    "serviceType": "Триггерный массаж",
    "scheduleDate": "2025-10-06T00:00:00.000Z",
    "scheduleTime": "11:15",
    "masterId": 7,
    "masterName": null,
    "branchId": "1",
    "serviceDuration": 220,
    "servicePrice": 600,
    "finalPrice": 600,
    "master": {
        "id": 7,
        "name": "Бегайым",
        "specialization": "Стилист"
    }
}
```

## Исправления

### 1. Интерфейс Task обновлен
- ✅ Добавлен объект `master` в интерфейс Task

### 2. formatTaskForForm обновлен
- ✅ Использует `task.master?.name` вместо только `task.masterName`

### 3. useEffect для загрузки данных улучшен
- ✅ Дополнительная логика поиска мастера по ID
- ✅ Правильная установка branchId
- ✅ Зависимости включают mastersData

### 4. Кнопка Сохранить
- ✅ Убрана зависимость от isValid для редактирования
- ✅ Добавлены отладочные логи в onSubmit

## Тестирование
1. Открыть http://localhost:5175/
2. Перейти в календарь
3. Нажать на существующую запись
4. Проверить заполнение полей
5. Нажать "Сохранить" и проверить консоль браузера

## Ожидаемое поведение
- Поля должны автоматически заполняться из данных API
- Кнопка "Сохранить" должна быть активной
- При клике должен выполняться onSubmit с отладочными логами
