# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –ª–æ–≥–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ—è–≤–ª—è–ª–æ—Å—å –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –ª–æ–≥–æ–≤, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –æ—Ç–ª–∞–¥–∫—É –∏ –∑–∞–º–µ–¥–ª—è–ª–æ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. **BranchContext.tsx**

#### –ü—Ä–æ–±–ª–µ–º–∞:
- `logCheck()` –≤—ã–∑—ã–≤–∞–ª—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `user` –∏–ª–∏ `isAuthenticated`
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —Ñ–∏–ª–∏–∞–ª–æ–≤
- `fetchBranches()` –≤—ã–∑—ã–≤–∞–ª—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Ñ–∏–ª–∏–∞–ª—ã —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

#### –†–µ—à–µ–Ω–∏–µ:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `orgFetched` —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø–æ–≤—Ç–æ—Ä–Ω–æ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `!orgFetched` –≤ useEffect
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `!branches.length` —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∏–ª–∏–∞–ª—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ
- ‚úÖ –£–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ console.log (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥
const [orgFetched, setOrgFetched] = useState(false);

// –í logCheck
if (orgFetched) {
  console.log("üè¢ logCheck: Already fetched, skipping");
  return;
}

// –í useEffect
if (user && isAuthenticated && !orgFetched) {
  logCheck();
}

// –í fetchBranches useEffect
if (orgData && !branches.length) {
  fetchBranches();
}
```

---

### 2. **use-tasks.ts**

#### –ü—Ä–æ–±–ª–µ–º–∞:
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ —Ö—É–∫–∞
- –õ–æ–≥–∏ –ø—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á —Å –º–∞—Å—Ç–µ—Ä–∞–º–∏
- `refetchInterval` –≤—ã–∑—ã–≤–∞–ª –ø–æ–≤—Ç–æ—Ä–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

#### –†–µ—à–µ–Ω–∏–µ:
- ‚úÖ –£–±—Ä–∞–Ω—ã –ª–æ–≥–∏ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–ª–∞ —Ö—É–∫–∞
- ‚úÖ –£–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ª–æ–≥–∏ –∏–∑ `useMemo`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `refetchInterval` –Ω–∞ `refetchOnWindowFocus: false`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –£–±—Ä–∞–ª–∏
console.log("üîç useTasks Debug:");
console.log("üîÑ Merging tasks with master information...");
console.log("‚úÖ Tasks merged with master information:", mergedTasks.length);

// –ò–∑–º–µ–Ω–∏–ª–∏
refetchInterval: 1000 * 60, // ‚ùå –£–±—Ä–∞–Ω–æ
refetchOnWindowFocus: false, // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
```

---

### 3. **use-calendar-tasks.ts**

#### –ü—Ä–æ–±–ª–µ–º–∞:
- –õ–æ–≥ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ —Ö—É–∫–∞

#### –†–µ—à–µ–Ω–∏–µ:
- ‚úÖ –£–±—Ä–∞–Ω –∏–∑–±—ã—Ç–æ—á–Ω—ã–π console.log

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –£–±—Ä–∞–ª–∏
console.log('üìÖ useCalendarTasks called with date:', selectedDate.toISOString());
```

---

### 4. **time-schedule.tsx**

#### –ü—Ä–æ–±–ª–µ–º–∞:
- –õ–æ–≥ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞—Ç—ã
- –õ–æ–≥–∏ –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∑–∞–¥–∞—á

#### –†–µ—à–µ–Ω–∏–µ:
- ‚úÖ –£–±—Ä–∞–Ω useEffect —Å –ª–æ–≥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç—ã
- ‚úÖ –£–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∑–∞–¥–∞—á

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –£–±—Ä–∞–ª–∏ useEffect
useEffect(() => {
  console.log('üìÖ currentDate changed to:', currentDate.toISOString());
}, [currentDate]);

// –£–±—Ä–∞–ª–∏ –ª–æ–≥–∏
console.log("üîÑ Converting tasks to appointments...");
console.log("  - Tasks data sample:", tasksData[0]);
```

---

### 5. **Calendar/index.tsx** (–∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)

#### –ü—Ä–æ–±–ª–µ–º–∞:
- `setInterval` –∫–∞–∂–¥—ã–µ 500ms –ø—Ä–æ–≤–µ—Ä—è–ª URL –∏ –≤—ã–∑—ã–≤–∞–ª –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä

#### –†–µ—à–µ–Ω–∏–µ:
- ‚úÖ –£–±—Ä–∞–Ω `setInterval` —Å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π URL
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ `popstate` listener

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- üî¥ –°–æ—Ç–Ω–∏ –ª–æ–≥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- üî¥ –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- üî¥ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user
- üî¥ –õ–æ–≥–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ (—Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è)
- ‚úÖ –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- ‚úÖ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ –§–∏–ª–∏–∞–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ –ó–∞–¥–∞—á–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –æ–∫–Ω–∞

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å (Ctrl+L –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ üóëÔ∏è)
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤:
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å ~5-10 –ª–æ–≥–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –ª–æ–≥–æ–≤
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ (–±–µ–∑ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

---

## üìù –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ª–æ–≥–∏ (–≤–∞–∂–Ω—ã–µ)

–°–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

### BranchContext:
- `üè¢ logCheck STARTED` - –Ω–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `‚úÖ Organization loaded: {name}` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞
- `‚ùå No token found` - –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `‚úÖ Loaded branches: {count}` - —Ñ–∏–ª–∏–∞–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- `‚ùå Error fetching branches` - –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∏–ª–∏–∞–ª–æ–≤

### use-tasks:
- `üì° Making tasks API request to: {endpoint}` - –∑–∞–ø—Ä–æ—Å –∑–∞–¥–∞—á
- `üì¶ Raw tasks API Response` - –æ—Ç–≤–µ—Ç API
- `‚ö†Ô∏è Master not found for masterId` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–º –º–∞—Å—Ç–µ—Ä–µ

### use-masters:
- `üì° Masters API URL: {url}` - –∑–∞–ø—Ä–æ—Å –º–∞—Å—Ç–µ—Ä–æ–≤
- `‚úÖ Loaded masters: {count}` - –º–∞—Å—Ç–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- `‚ùå Failed to fetch masters` - –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–∞—Å—Ç–µ—Ä–æ–≤

### API requests (lib/api.ts):
- `üåê API Request:` - –≤—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Å –¥–µ—Ç–∞–ª—è–º–∏
- `üîí Authentication failed` - –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–≠—Ç–∏ –ª–æ–≥–∏ –ø–æ–º–æ–≥–∞—é—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –Ω–æ –Ω–µ —Å–ø–∞–º—è—Ç –∫–æ–Ω—Å–æ–ª—å.

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π:**
   - ‚úÖ –ù–∞—á–∞–ª–æ/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - ‚úÖ –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - ‚ùå –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   - ‚ùå –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - `console.log()` - –æ–±—ã—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
   - `console.warn()` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - `console.error()` - –æ—à–∏–±–∫–∏

3. **–î–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
   ```typescript
   const DEBUG = import.meta.env.DEV;
   if (DEBUG) {
     console.log('Debug info');
   }
   ```

4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
   - React DevTools –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
   - Network tab –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
   - Performance tab –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
