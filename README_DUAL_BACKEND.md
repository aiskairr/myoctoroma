# ๐ Dual Backend Configuration - Complete Guide

> **ะัะพะตะบั ััะฟะตัะฝะพ ะฝะฐัััะพะตะฝ ะดะปั ัะฐะฑะพัั ั ะดะฒัะผั ะฑัะบะตะฝะดะฐะผะธ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ!**

---

## ๐ ะะพะบัะผะตะฝัะฐัะธั

ะัั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ะฝะฐัััะพะนะบะต ะดะฒัั ะฑัะบะตะฝะดะพะฒ:

### ๐ฏ ะัััััะน ััะฐัั
๐ **[QUICK_START.md](./QUICK_START.md)** - ะะฐัะฝะธัะต ะพัััะดะฐ!
- ะะฐะบ ะทะฐะฟัััะธัั ะฟัะพะตะบั
- ะัััััะต ัะตััั
- ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ๐ ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

1. ๐ **[BACKEND_CONFIGURATION.md](./BACKEND_CONFIGURATION.md)** (6.8 KB)
   - ะะพะปะฝะฐั ะธะฝััััะบัะธั ะฟะพ ะบะพะฝัะธะณััะฐัะธะธ
   - ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒ ะบะพะดะต
   - ะะธะณัะฐัะธั ัััะตััะฒัััะตะณะพ ะบะพะดะฐ
   - Troubleshooting

2. ๐ **[API_ENDPOINTS_MAPPING.md](./API_ENDPOINTS_MAPPING.md)** (6.4 KB)
   - ะกะฟะธัะพะบ ะฒัะตั API ัะฝะดะฟะพะธะฝัะพะฒ
   - ะะฐะบะพะน ะฑัะบะตะฝะด ะธัะฟะพะปัะทัะตััั ะดะปั ะบะฐะถะดะพะณะพ ัะฝะดะฟะพะธะฝัะฐ
   - ะะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒัะต ัะฝะดะฟะพะธะฝัั

3. ๐ **[DUAL_BACKEND_SETUP_SUMMARY.md](./DUAL_BACKEND_SETUP_SUMMARY.md)** (5.8 KB)
   - ะัะฐัะบะพะต ัะตะทัะผะต ะธะทะผะตะฝะตะฝะธะน
   - ะงัะพ ะฑัะปะพ ัะดะตะปะฐะฝะพ
   - ะขะตะบััะฐั ะบะพะฝัะธะณััะฐัะธั

4. ๐ **[MIGRATION_COMPARISON.md](./MIGRATION_COMPARISON.md)** (9.2 KB)
   - ะะพ ะธ ะฟะพัะปะต ััะฐะฒะฝะตะฝะธะต
   - ะงัะพ ะธะทะผะตะฝะธะปะพัั
   - ะัะธะผะตัั ะผะธะณัะฐัะธะธ ะบะพะดะฐ

5. โ **[TEST_CHECKLIST.md](./TEST_CHECKLIST.md)** (7.1 KB)
   - ะะพะปะฝัะน ัะตะบะปะธัั ัะตััะธัะพะฒะฐะฝะธั
   - ะะพัะฐะณะพะฒัะต ะธะฝััััะบัะธะธ
   - ะัะพะฒะตัะบะธ ะณะพัะพะฒะฝะพััะธ

---

## โก Quick Start (30 ัะตะบัะฝะด)

```bash
# 1. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
cd "elitaroma-frontend โ ะบะพะฟะธั"

# 2. ะฃะฑะตะดะธัะตัั, ััะพ .env ะฝะฐัััะพะตะฝ
cat .env

# 3. ะะฐะฟัััะธัะต dev ัะตัะฒะตั
npm run dev

# 4. ะัะบัะพะนัะต ะฑัะฐัะทะตั ะธ ะฟัะพะฒะตัััะต ะบะพะฝัะพะปั (F12)
# ะะพะปะถะฝั ัะฒะธะดะตัั ะฟัะธะปะพะถะตะฝะธะต ะฑะตะท ะพัะธะฑะพะบ
```

---

## ๐ฏ ะัะฝะพะฒะฝะฐั ะธะฝัะพัะผะฐัะธั

### ะขะตะบััะฐั ะบะพะฝัะธะณััะฐัะธั

**Primary Backend (ะพัะฝะพะฒะฝะพะน):**
```
https://lesser-felicdad-promconsulting-79f07228.koyeb.app
```
ะัะฟะพะปัะทัะตััั ะดะปั ะฒัะตั ัััะตััะฒัััะธั ัะฝะดะฟะพะธะฝัะพะฒ ะฟะพ ัะผะพะปัะฐะฝะธั.

**Secondary Backend (ะฒัะพัะธัะฝัะน):**
```
https://scattered-ermentrude-promconsulting-23cbccde.koyeb.app
```
ะะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะดะปั ัะฟะตัะธัะธัะฝัั ัะตัะฒะธัะพะฒ.

### ะงัะพ ะธะทะผะตะฝะธะปะพัั?

โ **ะะฑะฝะพะฒะปะตะฝะพ:**
- `.env` - ะดะพะฑะฐะฒะปะตะฝั ะพะฑะฐ backend URL
- `src/API/http.ts` - ะฟะพะปะฝะพัััั ะฟะตัะตะฟะธัะฐะฝ ั ะฟะพะดะดะตัะถะบะพะน ะดะฒัั ะฑัะบะตะฝะดะพะฒ
- `src/services/task-parser.ts` - ะธัะฟะพะปัะทัะตั ะฝะพะฒัั ะบะพะฝัะธะณััะฐัะธั

โ **ะะพะฑะฐะฒะปะตะฝะพ:**
- 6 ัะฐะนะปะพะฒ ะดะพะบัะผะตะฝัะฐัะธะธ
- Helper ััะฝะบัะธะธ ะดะปั API ะทะฐะฟัะพัะพะฒ
- ะะพะดะดะตัะถะบะฐ ะฟะตัะตะบะปััะตะฝะธั ะผะตะถะดั ะฑัะบะตะฝะดะฐะผะธ

โ **ะกะพะฒะผะตััะธะผะพััั:**
- 100% ะพะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั
- ะะตัั ัััะตััะฒัััะธะน ะบะพะด ัะฐะฑะพัะฐะตั ะฑะตะท ะธะทะผะตะฝะตะฝะธะน

---

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะธะผะตั 1: GET ะทะฐะฟัะพั ะบ Primary Backend

```typescript
import { apiGetJson } from '@/API/http';

const tasks = await apiGetJson('/api/tasks');
console.log('ะะฐะดะฐัะธ:', tasks);
```

### ะัะธะผะตั 2: GET ะทะฐะฟัะพั ะบ Secondary Backend

```typescript
import { apiGetJson } from '@/API/http';

const tasks = await apiGetJson('/api/tasks', true); // true = secondary
console.log('ะะฐะดะฐัะธ ัะพ ะฒัะพัะพะณะพ ะฑัะบะตะฝะดะฐ:', tasks);
```

### ะัะธะผะตั 3: POST ะทะฐะฟัะพั

```typescript
import { apiPostJson } from '@/API/http';

const newTask = {
  clientId: 123,
  status: 'pending',
  serviceType: 'haircut'
};

// ะ Primary Backend
const result = await apiPostJson('/api/tasks', newTask);

// ะ Secondary Backend
const result = await apiPostJson('/api/tasks', newTask, true);
```

### ะัะธะผะตั 4: Axios instance

```typescript
import $api, { $apiSecondary } from '@/API/http';

// Primary Backend
const response = await $api.get('/api/masters');

// Secondary Backend
const response = await $apiSecondary.get('/api/masters');
```

---

## ๐ง ะคะฐะนะปั ะบะพะฝัะธะณััะฐัะธะธ

### .env
```env
# Primary Backend (ะธัะฟะพะปัะทัะตััั ะฟะพ ัะผะพะปัะฐะฝะธั)
VITE_BACKEND_URL=https://lesser-felicdad-promconsulting-79f07228.koyeb.app

# Secondary Backend (ะดะปั ัะฟะตัะธัะธัะฝัั ัะตัะฒะธัะพะฒ)
VITE_SECONDARY_BACKEND_URL=https://scattered-ermentrude-promconsulting-23cbccde.koyeb.app
```

### src/API/http.ts

ะญะบัะฟะพััะธััะตั:
- `$api` / `$apiPrimary` - Axios instance ะดะปั Primary Backend
- `$apiSecondary` - Axios instance ะดะปั Secondary Backend
- `createApiUrl(endpoint, useSecondary?)` - ัะพะทะดะฐะฝะธะต ะฟะพะปะฝะพะณะพ URL
- `apiGetJson(endpoint, useSecondary?)` - GET ะทะฐะฟัะพั
- `apiPostJson(endpoint, data, useSecondary?)` - POST ะทะฐะฟัะพั
- `apiPatchJson(endpoint, data, useSecondary?)` - PATCH ะทะฐะฟัะพั
- `apiDelete(endpoint, useSecondary?)` - DELETE ะทะฐะฟัะพั
- `PRIMARY_BACKEND_URL` - ะบะพะฝััะฐะฝัะฐ ั URL Primary Backend
- `SECONDARY_BACKEND_URL` - ะบะพะฝััะฐะฝัะฐ ั URL Secondary Backend

---

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะัััััะน ัะตัั ะฒ ะบะพะฝัะพะปะธ ะฑัะฐัะทะตัะฐ

```javascript
// ะัะพะฒะตัะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
console.log('Primary:', import.meta.env.VITE_BACKEND_URL);
console.log('Secondary:', import.meta.env.VITE_SECONDARY_BACKEND_URL);

// ะขะตัั Primary Backend
fetch('https://lesser-felicdad-promconsulting-79f07228.koyeb.app/api/tasks?branchId=1', 
  { credentials: 'include' })
  .then(r => r.json())
  .then(d => console.log('โ Primary ัะฐะฑะพัะฐะตั:', d))
  .catch(e => console.error('โ ะัะธะฑะบะฐ:', e));

// ะขะตัั Secondary Backend
fetch('https://scattered-ermentrude-promconsulting-23cbccde.koyeb.app/api/tasks?branchId=1', 
  { credentials: 'include' })
  .then(r => r.json())
  .then(d => console.log('โ Secondary ัะฐะฑะพัะฐะตั:', d))
  .catch(e => console.error('โ ะัะธะฑะบะฐ:', e));
```

ะะพะปะฝัะน ัะตะบะปะธัั ัะตััะธัะพะฒะฐะฝะธั: **[TEST_CHECKLIST.md](./TEST_CHECKLIST.md)**

---

## ๐ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         Frontend Application            โ
โ    (elitaroma-frontend โ ะบะพะฟะธั)         โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
                  โ src/API/http.ts
                  โ
        โโโโโโโโโโโดโโโโโโโโโโ
        โ                   โ
        โผ                   โผ
โโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโ
โ Primary API   โ   โ Secondary API โ
โ ($apiPrimary) โ   โ ($apiSecondary)โ
โโโโโโโโโฌโโโโโโโโ   โโโโโโโโโฌโโโโโโโโ
        โ                   โ
        โผ                   โผ
โโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโ
โ Primary       โ   โ Secondary     โ
โ Backend       โ   โ Backend       โ
โ               โ   โ               โ
โ lesser-       โ   โ scattered-    โ
โ felicdad...   โ   โ ermentrude... โ
โโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโ
```

---

## ๐ Workflow

### ะะฐะทัะฐะฑะพัะบะฐ

1. **ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ**
   ```bash
   npm run dev
   ```

2. **ะัะพะฒะตัะบะฐ TypeScript**
   ```bash
   npx tsc --noEmit
   ```

3. **Lint ะฟัะพะฒะตัะบะฐ**
   ```bash
   npm run lint
   ```

### Production

1. **ะกะฑะพัะบะฐ**
   ```bash
   npm run build
   ```

2. **Preview ัะฑะพัะบะธ**
   ```bash
   npm run preview
   ```

3. **ะะตะฟะปะพะน**
   - ะฃะฑะตะดะธัะตัั, ััะพ `.env` ะฝะฐัััะพะตะฝ ะฟัะฐะฒะธะปัะฝะพ ะดะปั production
   - ะะฐะฟัััะธัะต ัะฑะพัะบั
   - ะะฐะดะตะฟะปะพะนัะต dist ะดะธัะตะบัะพัะธั

---

## โ FAQ

### Q: ะัะถะฝะพ ะปะธ ะผะธะณัะธัะพะฒะฐัั ัััะตััะฒัััะธะน ะบะพะด?
**A:** ะะตั! ะะตัั ัััะตััะฒัััะธะน ะบะพะด ัะฐะฑะพัะฐะตั ะฑะตะท ะธะทะผะตะฝะตะฝะธะน.

### Q: ะะฐะบ ะฟะตัะตะบะปััะธัััั ะผะตะถะดั ะฑัะบะตะฝะดะฐะผะธ?
**A:** ะัะพััะพ ะฟะตัะตะดะฐะนัะต `true` ะฒัะพััะผ ะฟะฐัะฐะผะตััะพะผ ะฒ helper ััะฝะบัะธะธ, ะธะปะธ ะธัะฟะพะปัะทัะนัะต `$apiSecondary` ะฒะผะตััะพ `$api`.

### Q: ะะพะถะฝะพ ะปะธ ะธัะฟะพะปัะทะพะฒะฐัั ะพะฑะฐ ะฑัะบะตะฝะดะฐ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ?
**A:** ะะฐ! ะั ะผะพะถะตัะต ะดะตะปะฐัั ะฟะฐัะฐะปะปะตะปัะฝัะต ะทะฐะฟัะพัั ะบ ะพะฑะพะธะผ ะฑัะบะตะฝะดะฐะผ.

### Q: ะงัะพ ะตัะปะธ ะพะดะธะฝ ะธะท ะฑัะบะตะฝะดะพะฒ ะฝะตะดะพัััะฟะตะฝ?
**A:** ะะฐะฟัะพัั ะบ ะฝะตะดะพัััะฟะฝะพะผั ะฑัะบะตะฝะดั ะฑัะดัั ะฒะพะทะฒัะฐัะฐัั ะพัะธะฑะบั. ะะฑัะฐะฑะฐััะฒะฐะนัะต ะพัะธะฑะบะธ ัะตัะตะท try/catch.

### Q: ะะฐะบ ะดะพะฑะฐะฒะธัั ััะตัะธะน ะฑัะบะตะฝะด?
**A:** ะะพะฑะฐะฒััะต `VITE_THIRD_BACKEND_URL` ะฒ `.env` ะธ ัะพะทะดะฐะนัะต `$apiThird` ะฒ `src/API/http.ts` ะฟะพ ะฐะฝะฐะปะพะณะธะธ.

---

## ๐ Troubleshooting

### ะัะพะฑะปะตะผะฐ: ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั undefined

**ะะตัะตะฝะธะต:**
```bash
# ะััะฐะฝะพะฒะธัะต dev ัะตัะฒะตั (Ctrl+C)
# ะะตัะตะทะฐะฟัััะธัะต
npm run dev
```

### ะัะพะฑะปะตะผะฐ: CORS ะพัะธะฑะบะธ

**ะะตัะตะฝะธะต:** ะฃะฑะตะดะธัะตัั, ััะพ ะฑัะบะตะฝะดั ะฝะฐัััะพะตะฝั ะฝะฐ ะฟัะธะตะผ ะทะฐะฟัะพัะพะฒ ั ะฒะฐัะตะณะพ ะดะพะผะตะฝะฐ.

### ะัะพะฑะปะตะผะฐ: 404 Not Found

**ะะตัะตะฝะธะต:** ะัะพะฒะตัััะต, ััะพ ัะฝะดะฟะพะธะฝั ัััะตััะฒัะตั ะฝะฐ ะฒัะฑัะฐะฝะฝะพะผ ะฑัะบะตะฝะดะต.

ะะพะปััะต ัะตัะตะฝะธะน: **[BACKEND_CONFIGURATION.md](./BACKEND_CONFIGURATION.md#troubleshooting)**

---

## ๐ ะงะตะบะปะธัั ะณะพัะพะฒะฝะพััะธ

- [x] โ .env ัะฐะนะป ะฝะฐัััะพะตะฝ
- [x] โ src/API/http.ts ะพะฑะฝะพะฒะปะตะฝ
- [x] โ src/services/task-parser.ts ะพะฑะฝะพะฒะปะตะฝ
- [x] โ ะะพะบัะผะตะฝัะฐัะธั ัะพะทะดะฐะฝะฐ
- [ ] โณ npm run dev ะทะฐะฟััะตะฝ ััะฟะตัะฝะพ
- [ ] โณ ะขะตััั ะฟัะพะนะดะตะฝั
- [ ] โณ ะะพัะพะฒะพ ะบ production

---

## ๐ ะะฐะบะปััะตะฝะธะต

ะัะพะตะบั ััะฟะตัะฝะพ ะฝะฐัััะพะตะฝ ะดะปั ัะฐะฑะพัั ั ะดะฒัะผั ะฑัะบะตะฝะดะฐะผะธ!

- โ 100% ะพะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั
- โ ะะตะณะบะพ ะฟะตัะตะบะปััะฐัััั ะผะตะถะดั ะฑัะบะตะฝะดะฐะผะธ
- โ ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะฐั ะบะพะฝัะธะณััะฐัะธั
- โ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- โ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

---

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะปะธ ะฒะพะทะฝะธะบะปะธ ะฒะพะฟัะพัั:
1. ะัะพะฒะตัััะต ะดะพะบัะผะตะฝัะฐัะธั ะฒััะต
2. ะัะพัะธัะฐะนัะต ัะพะพัะฒะตัััะฒัััะธะน .md ัะฐะนะป
3. ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ ะฝะฐ ะพัะธะฑะบะธ
4. ะัะฟะพะปัะทัะนัะต ัะตะบะปะธัั ัะตััะธัะพะฒะฐะฝะธั

---

**ะะตััะธั:** 1.0  
**ะะฐัะฐ:** 21 ะพะบััะฑัั 2025  
**ะกัะฐััั:** โ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั
