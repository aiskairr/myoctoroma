# –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –º–∞—Å—Ç–µ—Ä–æ–≤

## –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ—Ö –º–∞—Å—Ç–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É, —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π –∫–æ–ª–æ–Ω–æ–∫.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –º–∞—Å—Ç–µ—Ä–æ–≤

```typescript
const workingEmployees = mastersData
    .map((master, index) => {
        const workingDate = masterWorkingDates.find(
            wd => wd.master_id === master.id && wd.is_active
        );
        const isWorking = !!workingDate;
        return { ...employee, isWorking };
    })
    .filter(employee => employee.isWorking); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö
```

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ `master_working_dates`
- –ú–∞—Å—Ç–µ—Ä–∞ –±–µ–∑ —Ä–∞–±–æ—á–∏—Ö –¥–∞—Ç –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: "X working employees out of Y total"

### 2. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫

```typescript
const getEmployeeColumnWidth = useMemo(() => {
    const workingEmployeeCount = employees.length;
    const maxEmployeesPerScreen = 5;
    
    if (workingEmployeeCount <= maxEmployeesPerScreen) {
        // –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É –ø—Ä–∏ ‚â§5 –º–∞—Å—Ç–µ—Ä–∞—Ö
        const availableWidth = window.innerWidth - 80 - 40;
        return Math.max(250, Math.floor(availableWidth / workingEmployeeCount));
    } else {
        // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –ø—Ä–∏ >5 –º–∞—Å—Ç–µ—Ä–∞—Ö (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª)
        return 250;
    }
}, [employees.length]);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- **‚â§5 –º–∞—Å—Ç–µ—Ä–æ–≤**: –ö–æ–ª–æ–Ω–∫–∏ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞
- **>5 –º–∞—Å—Ç–µ—Ä–æ–≤**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ 250px + –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞**: 250px –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–æ–ª–æ–Ω–æ–∫

```tsx
<div
    className="border-r border-gray-200 last:border-r-0 flex-shrink-0"
    style={{ 
        width: `${getEmployeeColumnWidth}px`,
        minWidth: `${getEmployeeColumnWidth}px`
    }}
>
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω `flex-1` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ)
- –î–æ–±–∞–≤–ª–µ–Ω `flex-shrink-0` (–∑–∞–ø—Ä–µ—Ç —Å–∂–∞—Ç–∏—è)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —à–∏—Ä–∏–Ω–∞ —á–µ—Ä–µ–∑ `style`

### 4. –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```tsx
{!isLoading && !hasError && employees.length === 0 && (
    <div className="p-8 text-center">
        <Calendar size={24} className="mx-auto mb-2 text-gray-400" />
        <p className="text-gray-600">–ù–µ—Ç –º–∞—Å—Ç–µ—Ä–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É</p>
        <p className="text-gray-400 text-sm mt-1">
            {mastersData.length > 0 
                ? `–ù–∞–π–¥–µ–Ω–æ ${mastersData.length} –º–∞—Å—Ç–µ—Ä–æ–≤, –Ω–æ –æ–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç ${dateString}`
                : '–î–æ–±–∞–≤—å—Ç–µ –º–∞—Å—Ç–µ—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ú–∞—Å—Ç–µ—Ä–∞"'
            }
        </p>
    </div>
)}
```

#### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
```tsx
<p className="text-sm text-gray-500 mt-1">
    {employees.length > 0 
        ? `–†–∞–±–æ—Ç–∞–µ—Ç ${employees.length} –∏–∑ ${mastersData.length} –º–∞—Å—Ç–µ—Ä–æ–≤`
        : mastersData.length > 0
            ? `–ù–∏ –æ–¥–∏–Ω –∏–∑ ${mastersData.length} –º–∞—Å—Ç–µ—Ä–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç`
            : '–ù–µ—Ç –º–∞—Å—Ç–µ—Ä–æ–≤'
    }
</p>
```

### 5. Responsive –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```typescript
useEffect(() => {
    const handleResize = () => {
        console.log('üì± Window resized, recalculating column widths...');
    };
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
}, []);
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–°–∫—Ä—ã—Ç—ã –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –º–∞—Å—Ç–µ—Ä–∞** - –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ —ç–∫—Ä–∞–Ω–∞
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª** - —É–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –º–∞—Å—Ç–µ—Ä–æ–≤
- **Responsive –¥–∏–∑–∞–π–Ω** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞

### üìä –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º

| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –º–∞—Å—Ç–µ—Ä–æ–≤ | –ü–æ–≤–µ–¥–µ–Ω–∏–µ | –®–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ |
|-------------------------------|-----------|----------------|
| 0 | –ü–æ–∫–∞–∑ –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è | - |
| 1-6 | –†–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è (–º–∏–Ω. 200px) |
| >6 | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª | 200px —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è |

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ 2024**: –®–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫ —É–º–µ–Ω—å—à–µ–Ω–∞ –Ω–∞ 20% –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–æ–≤:
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞: 250px ‚Üí 200px
- –î–µ—Ñ–æ–ª—Ç–Ω–∞—è —à–∏—Ä–∏–Ω–∞: 300px ‚Üí 240px  
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Å—Ç–µ—Ä–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω–µ: 5 ‚Üí 6

### üé® UX —É–ª—É—á—à–µ–Ω–∏—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –º–∞—Å—Ç–µ—Ä–æ–≤
- –ü–æ–Ω—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ drag&drop –∏ sticky –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–æ–≤
- Responsive –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∞ –≤—Å–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
